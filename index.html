<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anoka Official - Electronic Music Producer & DJ</title>
    <meta name="description" content="Official website of Anoka - Electronic music producer and DJ creating immersive soundscapes. Listen to tracks, watch videos, and join the community.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lightgallery-bundle.min.css">
    <style>
        :root {
            --primary-color: #8a2be2;
            --secondary-color: #ff6b6b;
            --dark-color: #121212;
            --light-color: #f8f9fa;
            --gray-color: #2d2d2d;
            --text-light: #e0e0e0;
            --transition: all 0.3s ease;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --panel: rgba(255,255,255,0.04);
            --muted: rgba(255,255,255,0.6);
            --radius: 10px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--dark-color);
            color: var(--text-light);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Admin Panel Styles */
        .admin-panel {
            background: var(--dark-color);
            padding: 2rem 5%;
            display: none;
        }

        .admin-card {
            background: var(--panel);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-bottom: 1.5rem;
            box-shadow: 0 6px 20px rgba(0,0,0,0.6);
        }

        .admin-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--muted);
        }

        .admin-input, .admin-select, .admin-textarea {
            width: 100%;
            padding: 0.8rem;
            background: transparent;
            border: 1px solid rgba(255,255,255,0.08);
            color: var(--text-light);
            border-radius: 6px;
            margin-bottom: 1rem;
        }

        .admin-row {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .admin-btn {
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
        }

        .admin-btn.ghost {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.06);
        }

        .progress {
            height: 8px;
            background: rgba(255,255,255,0.06);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress > i {
            display: block;
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            transition: width 0.15s linear;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .admin-table th, .admin-table td {
            padding: 0.8rem;
            font-size: 0.9rem;
            border-bottom: 1px solid rgba(255,255,255,0.03);
            text-align: left;
            vertical-align: middle;
        }

        .token-row {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1rem;
        }

        .notice {
            background: rgba(138,43,226,0.06);
            border-left: 4px solid var(--primary-color);
            padding: 0.8rem;
            border-radius: 6px;
            color: var(--muted);
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .hidden {
            display: none;
        }

        /* Rest of the existing styles from the second file */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        button:focus-visible,
        a:focus-visible,
        input:focus-visible,
        select:focus-visible {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            z-index: 10000;
            text-decoration: none;
            border-radius: 0 0 4px 0;
            transition: var(--transition);
        }

        .skip-link:focus {
            top: 0;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 1.5rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: rgba(18, 18, 18, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        header.scrolled {
            padding: 1rem 5%;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 0.5rem;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 2rem;
        }

        nav ul li a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
        }

        nav ul li a:hover {
            color: var(--primary-color);
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary-color);
            transition: var(--transition);
        }

        nav ul li a:hover::after {
            width: 100%;
        }

        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            background: none;
            border: none;
            color: var(--text-light);
        }

        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            padding: 0 5%;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .hero-content {
            text-align: center;
            max-width: 800px;
            z-index: 1;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: fadeInUp 1s ease;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            animation: fadeInUp 1.5s ease;
        }

        .btn {
            display: inline-block;
            padding: 0.8rem 2rem;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition);
            animation: fadeInUp 2s ease;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(138, 43, 226, 0.3);
        }

        section {
            padding: 5rem 5%;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            font-size: 2.5rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
        }

        .music-section {
            background-color: var(--gray-color);
        }

        .song-filters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .filter-btn {
            padding: 0.5rem 1.5rem;
            background-color: transparent;
            color: var(--text-light);
            border: 1px solid var(--primary-color);
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-btn.active, .filter-btn:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .song-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .song-item {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .song-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .song-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: white;
        }

        .song-genre {
            font-size: 0.9rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .song-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .song-controls {
            display: flex;
            gap: 1rem;
            margin-top: auto;
        }

        .control-btn {
            padding: 0.5rem 1rem;
            background-color: transparent;
            color: var(--text-light);
            border: 1px solid var(--primary-color);
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .control-btn:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .music-player {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(18, 18, 18, 0.95);
            padding: 1rem;
            display: none;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
            z-index: 999;
        }

        .player-active {
            display: flex;
        }

        .player-info {
            flex: 1;
        }

        .player-title {
            font-weight: 600;
            margin-bottom: 0.2rem;
        }

        .player-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .player-btn {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .player-btn:hover {
            color: var(--primary-color);
        }

        .progress-container {
            flex: 2;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .progress-bar {
            flex: 1;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
            cursor: pointer;
        }

        .progress {
            height: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.1s linear;
        }

        .time {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            min-width: 40px;
        }

        .video-section {
            background-color: var(--dark-color);
        }

        .video-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .video-item {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .video-item:hover {
            transform: translateY(-5px);
        }

        .video-thumbnail {
            position: relative;
            width: 100%;
            height: 200px;
            overflow: hidden;
        }

        .video-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .video-item:hover .video-thumbnail img {
            transform: scale(1.05);
        }

        .video-play {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background-color: rgba(138, 43, 226, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            transition: var(--transition);
        }

        .video-item:hover .video-play {
            background-color: var(--primary-color);
            transform: translate(-50%, -50%) scale(1.1);
        }

        .video-info {
            padding: 1rem;
            background-color: rgba(255, 255, 255, 0.05);
        }

        .video-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .video-desc {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .upload-section {
            display: none;
            background-color: var(--dark-color);
        }

        .upload-form {
            max-width: 600px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 10px;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            color: var(--text-light);
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .about-content {
            display: flex;
            flex-wrap: wrap;
            gap: 3rem;
            align-items: center;
        }

        .about-text {
            flex: 1;
            min-width: 300px;
        }

        .about-image {
            flex: 1;
            min-width: 300px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .about-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: var(--transition);
        }

        .about-image:hover img {
            transform: scale(1.05);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
        }

        .social-link:hover {
            background-color: var(--primary-color);
            transform: translateY(-3px);
        }

        .newsletter-section {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            padding: 4rem 5%;
            text-align: center;
        }

        .newsletter-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .newsletter-title {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .newsletter-desc {
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .newsletter-form {
            display: flex;
            gap: 1rem;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-input {
            flex: 1;
            padding: 0.8rem 1rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
        }

        .newsletter-input:focus {
            outline: 2px solid var(--dark-color);
        }

        .contact-content {
            display: flex;
            flex-wrap: wrap;
            gap: 3rem;
        }

        .contact-form {
            flex: 1;
            min-width: 300px;
        }

        .contact-info {
            flex: 1;
            min-width: 300px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.2rem;
        }

        footer {
            background-color: #0a0a0a;
            padding: 3rem 5% 1.5rem;
        }

        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .footer-links a {
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--primary-color);
        }

        .footer-social {
            display: flex;
            gap: 1rem;
        }

        .copyright {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .floating {
            animation: float 5s ease-in-out infinite;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--dark-color);
            border-radius: 10px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .video-modal .modal-content {
            max-width: 800px;
            padding: 0;
            background: transparent;
        }

        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 10px;
        }

        @media (max-width: 768px) {
            nav ul {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 70px);
                background-color: var(--dark-color);
                flex-direction: column;
                align-items: center;
                justify-content: flex-start;
                padding-top: 2rem;
                transition: var(--transition);
            }

            nav ul.active {
                left: 0;
            }

            nav ul li {
                margin: 1.5rem 0;
            }

            .mobile-menu {
                display: block;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .newsletter-form {
                flex-direction: column;
            }

            .music-player {
                flex-direction: column;
                gap: 0.5rem;
            }

            .progress-container {
                width: 100%;
            }

            .token-row {
                flex-direction: column;
                align-items: stretch;
            }
        }

        .theme-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            border: none;
            color: white;
        }

        body.light-theme {
            --dark-color: #f8f9fa;
            --light-color: #121212;
            --gray-color: #e9ecef;
            --text-light: #333333;
        }

        body.light-theme .song-item,
        body.light-theme .upload-form,
        body.light-theme .video-info {
            background-color: rgba(0, 0, 0, 0.05);
        }

        body.light-theme .control-btn,
        body.light-theme .filter-btn {
            color: #333;
        }

        body.light-theme .form-group input,
        body.light-theme .form-group select,
        body.light-theme .form-group textarea {
            background-color: rgba(0, 0, 0, 0.05);
            color: #333;
        }

        body.light-theme footer {
            background-color: #e9ecef;
            color: #333;
        }

        body.light-theme .footer-links a {
            color: #333;
        }

        body.light-theme .copyright {
            color: #666;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        body.light-theme .social-link {
            background-color: rgba(0, 0, 0, 0.1);
            color: #333;
        }

        body.light-theme .music-player {
            background-color: rgba(248, 249, 250, 0.95);
            color: #333;
        }

        body.light-theme .player-btn {
            color: #333;
        }

        body.light-theme .progress-bar {
            background-color: rgba(0, 0, 0, 0.2);
        }

        .animated-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -2;
        }

        .animated-bg div {
            position: absolute;
            display: block;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            animation: animate 25s linear infinite;
            bottom: -150px;
        }

        .animated-bg div:nth-child(1) {
            left: 25%;
            width: 80px;
            height: 80px;
            animation-delay: 0s;
        }

        .animated-bg div:nth-child(2) {
            left: 10%;
            width: 20px;
            height: 20px;
            animation-delay: 2s;
            animation-duration: 12s;
        }

        .animated-bg div:nth-child(3) {
            left: 70%;
            width: 20px;
            height: 20px;
            animation-delay: 4s;
        }

        .animated-bg div:nth-child(4) {
            left: 40%;
            width: 60px;
            height: 60px;
            animation-delay: 0s;
            animation-duration: 18s;
        }

        .animated-bg div:nth-child(5) {
            left: 65%;
            width: 20px;
            height: 20px;
            animation-delay: 0s;
        }

        .animated-bg div:nth-child(6) {
            left: 75%;
            width: 110px;
            height: 110px;
            animation-delay: 3s;
        }

        .animated-bg div:nth-child(7) {
            left: 35%;
            width: 150px;
            height: 150px;
            animation-delay: 7s;
        }

        .animated-bg div:nth-child(8) {
            left: 50%;
            width: 25px;
            height: 25px;
            animation-delay: 15s;
            animation-duration: 45s;
        }

        .animated-bg div:nth-child(9) {
            left: 20%;
            width: 15px;
            height: 15px;
            animation-delay: 2s;
            animation-duration: 35s;
        }

        .animated-bg div:nth-child(10) {
            left: 85%;
            width: 150px;
            height: 150px;
            animation-delay: 0s;
            animation-duration: 11s;
        }

        @keyframes animate {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
                border-radius: 0;
            }
            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
                border-radius: 50%;
            }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Header -->
    <header>
        <a href="#" class="logo" aria-label="Anoka Official Home"><i class="fas fa-music"></i> Anoka Official</a>
        <nav>
            <ul id="nav-menu">
                <li><a href="#home">Home</a></li>
                <li><a href="#music">Music</a></li>
                <li><a href="#videos">Videos</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#" id="admin-link">Admin</a></li>
            </ul>
            <button class="mobile-menu" id="mobile-menu" aria-label="Toggle navigation menu">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="animated-bg">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
        <div class="hero-content">
            <h1 class="floating">ANOKA</h1>
            <p>Electronic Music Producer & DJ | Creating immersive soundscapes that transport you to another dimension</p>
            <a href="#music" class="btn">Listen Now</a>
        </div>
    </section>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Music Section -->
        <section class="music-section" id="music">
            <h2 class="section-title">My Music</h2>
            <div class="song-filters">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="electronic">Electronic</button>
                <button class="filter-btn" data-filter="ambient">Ambient</button>
                <button class="filter-btn" data-filter="downtempo">Downtempo</button>
            </div>
            <div class="song-list">
                <!-- Song items will be populated by JavaScript -->
            </div>
        </section>

        <!-- Video Section -->
        <section class="video-section" id="videos">
            <h2 class="section-title">Music Videos</h2>
            <div class="video-gallery">
                <div class="video-item">
                    <div class="video-thumbnail">
                        <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Ethereal Dreams music video thumbnail">
                        <div class="video-play">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">Ethereal Dreams</h3>
                        <p class="video-desc">Official music video featuring stunning visual effects</p>
                    </div>
                </div>
                <div class="video-item">
                    <div class="video-thumbnail">
                        <img src="https://images.unsplash.com/photo-1514525253161-7a46d19cd819?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80" alt="Neon Pulse music video thumbnail">
                        <div class="video-play">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">Neon Pulse</h3>
                        <p class="video-desc">Live performance in an immersive digital environment</p>
                    </div>
                </div>
                <div class="video-item">
                    <div class="video-thumbnail">
                        <img src="https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Behind the Scenes: Cosmic Drift thumbnail">
                        <div class="video-play">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">Behind the Scenes: Cosmic Drift</h3>
                        <p class="video-desc">Making of the track and visual production</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Admin Panel -->
        <section class="admin-panel" id="admin">
            <h2 class="section-title">Admin — Upload & Manage Tracks</h2>

            <div class="admin-card">
                <div class="token-row">
                    <input id="admin-token-input" type="password" placeholder="Enter ADMIN token (or use site auth)" style="flex:1;" />
                    <button id="save-token" class="admin-btn ghost">Set Token</button>
                    <button id="clear-token" class="admin-btn ghost">Clear</button>
                </div>
                <div class="notice">
                    This admin page uses a simple token prompt for demo/testing. In production, replace this with your site auth (httpOnly cookie/session). Ensure CORS and S3 CORS are configured for presigned uploads.
                </div>

                <form id="upload-form">
                    <label for="title" class="admin-label">Title *</label>
                    <input id="title" type="text" class="admin-input" required placeholder="Song title" />

                    <label for="artist" class="admin-label">Artist *</label>
                    <input id="artist" type="text" class="admin-input" required placeholder="Artist name" />

                    <label for="album" class="admin-label">Album</label>
                    <input id="album" type="text" class="admin-input" placeholder="Album name (optional)" />

                    <label for="genre" class="admin-label">Genre</label>
                    <select id="genre" class="admin-select">
                        <option value="">Select (optional)</option>
                        <option value="electronic">Electronic</option>
                        <option value="ambient">Ambient</option>
                        <option value="downtempo">Downtempo</option>
                        <option value="other">Other</option>
                    </select>

                    <label for="file" class="admin-label">Audio file (mp3, wav, flac) *</label>
                    <input id="file" type="file" class="admin-input" accept="audio/*" required />

                    <label for="cover" class="admin-label">Cover image (optional)</label>
                    <input id="cover" type="file" class="admin-input" accept="image/*" />

                    <div class="admin-row">
                        <label style="display:flex;align-items:center;gap:8px;">
                            <input id="publish" type="checkbox" /> <span style="color: var(--muted); font-size: 0.9rem;"> Publish now</span>
                        </label>
                        <div style="flex:1"></div>
                        <button id="upload-btn" class="admin-btn" type="submit">Upload track</button>
                    </div>

                    <div id="upload-status" style="color: var(--muted); font-size: 0.9rem; margin-top: 8px;"></div>
                    <div class="progress hidden" id="upload-progress"><i></i></div>
                </form>
            </div>

            <div class="admin-card">
                <div style="display:flex;justify-content:space-between;align-items:center;">
                    <h3 style="margin:0">Tracks</h3>
                    <div>
                        <button id="refresh-list" class="admin-btn ghost">Refresh</button>
                        <button id="show-upload-section" class="admin-btn ghost">Scroll to upload</button>
                    </div>
                </div>

                <div id="tracks-container" style="color: var(--muted); font-size: 0.9rem;">Loading…</div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="newsletter-section">
            <div class="newsletter-content">
                <h2 class="newsletter-title">Join the Community</h2>
                <p class="newsletter-desc">Subscribe to my newsletter for exclusive content, early access to new releases, and behind-the-scenes updates.</p>
                <form class="newsletter-form">
                    <input type="email" class="newsletter-input" placeholder="Your email address" required aria-label="Your email address">
                    <button type="submit" class="btn">Subscribe</button>
                </form>
            </div>
        </section>

        <!-- About Section -->
        <section class="about-section" id="about">
            <h2 class="section-title">About Anoka</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>Anoka is an electronic music producer and DJ known for creating immersive soundscapes that blend ambient textures with pulsating rhythms. With over a decade of experience in the music industry, Anoka has developed a unique sonic signature that transports listeners to otherworldly dimensions.</p>
                    <p>Drawing inspiration from nature, technology, and human emotion, Anoka's music has been featured in numerous films, video games, and meditation apps. Their live performances are known for their mesmerizing visual components and hypnotic energy.</p>
                    <p>Based in Berlin but constantly traveling, Anoka continues to push the boundaries of electronic music while staying true to the emotional core that defines their work.</p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Spotify"><i class="fab fa-spotify"></i></a>
                        <a href="#" class="social-link" aria-label="Apple Music"><i class="fab fa-apple"></i></a>
                        <a href="#" class="social-link" aria-label="SoundCloud"><i class="fab fa-soundcloud"></i></a>
                        <a href="#" class="social-link" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="about-image">
                    <img src="https://images.unsplash.com/photo-1516280440614-37939bbacd81?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Anoka performing live">
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="contact-section" id="contact">
            <h2 class="section-title">Get In Touch</h2>
            <div class="contact-content">
                <form class="contact-form">
                    <div class="form-group">
                        <label for="name">Your Name</label>
                        <input type="text" id="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Your Email</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Your Message</label>
                        <textarea id="message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn">Send Message</button>
                </form>
                <div class="contact-info">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div>
                            <h3>Email</h3>
                            <p>contact@anokaofficial.com</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div>
                            <h3>WhatsApp</h3>
                            <p>+1 (555) 123-4567</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div>
                            <h3>Location</h3>
                            <p>Berlin, Germany</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-col">
                <div class="footer-logo">Anoka Official</div>
                <p>Creating immersive soundscapes since 2012</p>
            </div>
            <div class="footer-col">
                <h3>Quick Links</h3>
                <div class="footer-links">
                    <a href="#home">Home</a>
                    <a href="#music">Music</a>
                    <a href="#videos">Videos</a>
                    <a href="#about">About</a>
                    <a href="#contact">Contact</a>
                </div>
            </div>
            <div class="footer-col">
                <h3>Connect</h3>
                <div class="footer-social">
                    <a href="#" class="social-link" aria-label="Spotify"><i class="fab fa-spotify"></i></a>
                    <a href="#" class="social-link" aria-label="Apple Music"><i class="fab fa-apple"></i></a>
                    <a href="#" class="social-link" aria-label="SoundCloud"><i class="fab fa-soundcloud"></i></a>
                    <a href="#" class="social-link" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            &copy; 2023 Anoka Official. All rights reserved.
        </div>
    </footer>

    <!-- Advanced Music Player -->
    <div class="music-player" id="music-player">
        <div class="player-info">
            <div class="player-title" id="player-title">Now Playing</div>
            <div class="player-artist" id="player-artist">Anoka</div>
        </div>
        <div class="player-controls">
            <button class="player-btn" id="prev-btn" aria-label="Previous track">
                <i class="fas fa-step-backward"></i>
            </button>
            <button class="player-btn" id="play-btn" aria-label="Play">
                <i class="fas fa-play"></i>
            </button>
            <button class="player-btn" id="next-btn" aria-label="Next track">
                <i class="fas fa-step-forward"></i>
            </button>
        </div>
        <div class="progress-container">
            <span class="time" id="current-time">0:00</span>
            <div class="progress-bar" id="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <span class="time" id="duration">0:00</span>
        </div>
        <div class="volume-control">
            <button class="player-btn" id="volume-btn" aria-label="Volume">
                <i class="fas fa-volume-up"></i>
            </button>
        </div>
    </div>

    <!-- Video Modal -->
    <div class="modal video-modal" id="video-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-video-modal" aria-label="Close video">
                <i class="fas fa-times"></i>
            </button>
            <div class="video-container">
                <iframe id="video-iframe" width="560" height="315" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
        <i class="fas fa-moon"></i>
    </button>

    <script>
        // Configuration
        const API_BASE = ''; // leave empty if same origin, or set to e.g. 'https://api.yoursite.com'
        const ADMIN_TOKEN_STORAGE_KEY = 'anoka_admin_token';

        // Sample song data
        const songs = [
            { 
                id: 1, 
                title: "Ethereal Dreams", 
                genre: "ambient", 
                plays: 1245, 
                downloads: 320,
                duration: "4:32",
                audioUrl: "https://example.com/audio/ethereal-dreams.mp3"
            },
            { 
                id: 2, 
                title: "Neon Pulse", 
                genre: "electronic", 
                plays: 2876, 
                downloads: 542,
                duration: "3:45",
                audioUrl: "https://example.com/audio/neon-pulse.mp3"
            },
            { 
                id: 3, 
                title: "Midnight Echoes", 
                genre: "downtempo", 
                plays: 1890, 
                downloads: 410,
                duration: "5:12",
                audioUrl: "https://example.com/audio/midnight-echoes.mp3"
            },
            { 
                id: 4, 
                title: "Cosmic Drift", 
                genre: "ambient", 
                plays: 2103, 
                downloads: 389,
                duration: "6:05",
                audioUrl: "https://example.com/audio/cosmic-drift.mp3"
            },
            { 
                id: 5, 
                title: "Digital Forest", 
                genre: "electronic", 
                plays: 3254, 
                downloads: 621,
                duration: "4:18",
                audioUrl: "https://example.com/audio/digital-forest.mp3"
            },
            { 
                id: 6, 
                title: "Silent Waves", 
                genre: "downtempo", 
                plays: 1567, 
                downloads: 298,
                duration: "5:40",
                audioUrl: "https://example.com/audio/silent-waves.mp3"
            }
        ];

        // Video data
        const videos = [
            {
                id: 1,
                title: "Ethereal Dreams",
                description: "Official music video featuring stunning visual effects",
                thumbnail: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                videoUrl: "https://www.youtube.com/embed/dQw4w9WgXcQ"
            },
            {
                id: 2,
                title: "Neon Pulse",
                description: "Live performance in an immersive digital environment",
                thumbnail: "https://images.unsplash.com/photo-1514525253161-7a46d19cd819?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",
                videoUrl: "https://www.youtube.com/embed/dQw4w9WgXcQ"
            },
            {
                id: 3,
                title: "Behind the Scenes: Cosmic Drift",
                description: "Making of the track and visual production",
                thumbnail: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                videoUrl: "https://www.youtube.com/embed/dQw4w9WgXcQ"
            }
        ];

        // DOM Elements
        const navMenu = document.getElementById('nav-menu');
        const mobileMenu = document.getElementById('mobile-menu');
        const songList = document.querySelector('.song-list');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const themeToggle = document.getElementById('theme-toggle');
        const contactForm = document.querySelector('.contact-form');
        const newsletterForm = document.querySelector('.newsletter-form');
        const musicPlayer = document.getElementById('music-player');
        const playerTitle = document.getElementById('player-title');
        const playerArtist = document.getElementById('player-artist');
        const playBtn = document.getElementById('play-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressBar = document.getElementById('progress-bar');
        const progress = document.getElementById('progress');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const videoModal = document.getElementById('video-modal');
        const videoIframe = document.getElementById('video-iframe');
        const closeVideoModal = document.getElementById('close-video-modal');
        const videoPlayButtons = document.querySelectorAll('.video-play');
        const adminLink = document.getElementById('admin-link');
        const adminPanel = document.getElementById('admin');

        // Audio player state
        const audio = new Audio();
        let isPlaying = false;
        let currentSongIndex = 0;

        // Admin Functions
        function getAuthHeaders() {
            const token = sessionStorage.getItem(ADMIN_TOKEN_STORAGE_KEY) || localStorage.getItem(ADMIN_TOKEN_STORAGE_KEY);
            return token ? { 'Authorization': `Bearer ${token}` } : {};
        }

        function setStatus(msg, isError = false) {
            const el = document.getElementById('upload-status');
            el.textContent = msg || '';
            el.style.color = isError ? '#ff6b6b' : '';
        }

        function setProgress(pct) {
            const pr = document.getElementById('upload-progress');
            pr.classList.remove('hidden');
            pr.querySelector('i').style.width = pct + '%';
            if (pct >= 100) setTimeout(() => pr.classList.add('hidden'), 700);
        }

        // Mobile Menu Toggle
        mobileMenu.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            mobileMenu.innerHTML = navMenu.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
            mobileMenu.setAttribute('aria-expanded', navMenu.classList.contains('active'));
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('nav ul li a').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
                mobileMenu.innerHTML = '<i class="fas fa-bars"></i>';
                mobileMenu.setAttribute('aria-expanded', 'false');
            });
        });

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Admin Panel Toggle
        adminLink.addEventListener('click', (e) => {
            e.preventDefault();
            adminPanel.style.display = adminPanel.style.display === 'block' ? 'none' : 'block';
            if (adminPanel.style.display === 'block') {
                adminPanel.scrollIntoView({ behavior: 'smooth' });
                loadTracks();
            }
        });

        // Init UI state for admin
        document.getElementById('save-token').addEventListener('click', () => {
            const v = (document.getElementById('admin-token-input')).value.trim();
            if (!v) { alert('Enter token'); return; }
            sessionStorage.setItem(ADMIN_TOKEN_STORAGE_KEY, v);
            setStatus('Admin token set (in session).');
        });
        document.getElementById('clear-token').addEventListener('click', () => {
            sessionStorage.removeItem(ADMIN_TOKEN_STORAGE_KEY);
            localStorage.removeItem(ADMIN_TOKEN_STORAGE_KEY);
            document.getElementById('admin-token-input').value = '';
            setStatus('Admin token cleared.');
        });

        // Scroll helper for admin
        document.getElementById('show-upload-section').addEventListener('click', () => {
            document.getElementById('upload-form').scrollIntoView({ behavior: 'smooth' });
            document.getElementById('title').focus();
        });

        // Upload flow for admin
        document.getElementById('upload-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            setStatus('');
            setProgress(0);

            const title = document.getElementById('title').value.trim();
            const artist = document.getElementById('artist').value.trim();
            const album = document.getElementById('album').value.trim();
            const genre = document.getElementById('genre').value;
            const fileInput = document.getElementById('file');
            const coverInput = document.getElementById('cover');
            const publish = document.getElementById('publish').checked;

            if (!fileInput.files || fileInput.files.length === 0) {
                setStatus('Please choose an audio file', true); return;
            }
            if (!title || !artist) {
                setStatus('Title and artist are required', true); return;
            }

            const audioFile = fileInput.files[0];
            const coverFile = coverInput.files && coverInput.files.length ? coverInput.files[0] : null;

            try {
                document.getElementById('upload-btn').disabled = true;
                setStatus('Initializing upload...');

                // 1) Init audio upload
                const initAudioRes = await fetch(API_BASE + '/api/admin/tracks/init-upload', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        ...getAuthHeaders()
                    },
                    body: JSON.stringify({
                        filename: audioFile.name,
                        contentType: audioFile.type || 'application/octet-stream',
                        size: audioFile.size,
                        purpose: 'audio'
                    })
                });
                if (!initAudioRes.ok) {
                    const txt = await initAudioRes.text();
                    throw new Error('init-upload audio failed: ' + txt);
                }
                const initAudio = await initAudioRes.json();

                // 2) (optional) init cover upload
                let coverKey = null;
                if (coverFile) {
                    setStatus('Initializing cover upload...');
                    const initCoverRes = await fetch(API_BASE + '/api/admin/tracks/init-upload', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            ...getAuthHeaders()
                        },
                        body: JSON.stringify({
                            filename: coverFile.name,
                            contentType: coverFile.type || 'image/jpeg',
                            size: coverFile.size,
                            purpose: 'cover'
                        })
                    });
                    if (!initCoverRes.ok) {
                        const txt = await initCoverRes.text();
                        throw new Error('init-upload cover failed: ' + txt);
                    }
                    const initCover = await initCoverRes.json();
                    coverKey = initCover.key;

                    // upload cover to presigned URL
                    setStatus('Uploading cover...');
                    await uploadToPresigned(initCover.uploadUrl, coverFile, (p) => {
                        // small mapping for UI: 0..20%
                        setProgress(Math.round(p * 0.2));
                    });
                }

                // 3) upload audio to presigned URL
                setStatus('Uploading audio file...');
                await uploadToPresigned(initAudio.uploadUrl, audioFile, (p) => {
                    // map to 20..100%
                    setProgress(20 + Math.round(p * 0.8));
                });

                // 4) create track metadata
                setStatus('Finalizing metadata...');
                const createRes = await fetch(API_BASE + '/api/admin/tracks', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        ...getAuthHeaders()
                    },
                    body: JSON.stringify({
                        key: initAudio.key,
                        title,
                        artist,
                        album: album || undefined,
                        genre: genre || undefined,
                        published: publish,
                        coverKey: coverKey,
                        file_size: audioFile.size,
                        mime_type: audioFile.type
                    })
                });
                if (!createRes.ok) {
                    const txt = await createRes.text();
                    throw new Error('create track failed: ' + txt);
                }
                const created = await createRes.json();
                setProgress(100);
                setStatus('Upload complete — track created: ' + (created.title || created.id));
                // reset form (keep token)
                document.getElementById('upload-form').reset();
                // refresh list
                await loadTracks();
            } catch (err) {
                console.error(err);
                setStatus('Error: ' + (err.message || err), true);
            } finally {
                document.getElementById('upload-btn').disabled = false;
            }
        });

        // Helper: upload via XMLHttpRequest to show progress (presigned PUT)
        function uploadToPresigned(uploadUrl, file, onProgress) {
            return new Promise((resolve, reject) => {
                const xhr = new XMLHttpRequest();
                xhr.open('PUT', uploadUrl, true);
                // Some S3 setups require Content-Type header to match; set it
                if (file.type) xhr.setRequestHeader('Content-Type', file.type);
                xhr.upload.onprogress = (e) => {
                    if (e.lengthComputable) {
                        const pct = Math.round((e.loaded / e.total) * 100);
                        onProgress && onProgress(pct);
                    }
                };
                xhr.onload = () => {
                    if (xhr.status >= 200 && xhr.status < 300) resolve();
                    else reject(new Error('Upload failed: ' + xhr.status + ' ' + xhr.statusText));
                };
                xhr.onerror = () => reject(new Error('Network error during upload'));
                xhr.send(file);
            });
        }

        // Tracks list + actions for admin
        async function loadTracks() {
            const container = document.getElementById('tracks-container');
            container.textContent = 'Loading…';
            try {
                const res = await fetch(API_BASE + '/api/admin/tracks', {
                    headers: { ...getAuthHeaders() }
                });
                if (!res.ok) {
                    const txt = await res.text();
                    container.innerHTML = '<div style="color: var(--muted); font-size: 0.9rem;">Failed to load: ' + txt + '</div>';
                    return;
                }
                const data = await res.json();
                const tracks = data.tracks || data;
                if (!tracks || tracks.length === 0) {
                    container.innerHTML = '<div style="color: var(--muted); font-size: 0.9rem;">No tracks yet.</div>';
                    return;
                }

                // build table
                let html = '<table class="admin-table"><thead><tr><th>Title</th><th>Artist</th><th>Published</th><th>Downloads</th><th style="font-size: 0.85rem;">Actions</th></tr></thead><tbody>';
                for (const t of tracks) {
                    html += `<tr data-id="${t.id}">
                        <td><strong>${escapeHtml(t.title)}</strong><div style="font-size: 0.85rem; color: var(--muted);">${escapeHtml(t.album||'')}</div></td>
                        <td>${escapeHtml(t.artist)}</td>
                        <td><input type="checkbox" class="pub-toggle" ${t.published ? 'checked' : ''}></td>
                        <td style="font-size: 0.85rem; color: var(--muted);">${t.download_count||0}</td>
                        <td class="actions">
                            <button class="admin-btn ghost download">Download</button>
                            <button class="admin-btn ghost edit">Edit</button>
                            <button class="admin-btn danger delete" style="background: #ff4d4f;">Delete</button>
                        </td>
                    </tr>`;
                }
                html += '</tbody></table>';
                container.innerHTML = html;

                // wire actions
                container.querySelectorAll('button.download').forEach(btn => btn.addEventListener('click', handleDownload));
                container.querySelectorAll('button.delete').forEach(btn => btn.addEventListener('click', handleDelete));
                container.querySelectorAll('button.edit').forEach(btn => btn.addEventListener('click', handleEdit));
                container.querySelectorAll('.pub-toggle').forEach(cb => cb.addEventListener('change', handlePublishToggle));
            } catch (err) {
                console.error(err);
                document.getElementById('tracks-container').innerHTML = '<div style="color: var(--muted); font-size: 0.9rem;">Error loading tracks</div>';
            }
        }

        // Actions implementations for admin
        async function handleDownload(e) {
            const tr = e.target.closest('tr');
            const id = tr.getAttribute('data-id');
            try {
                const res = await fetch(API_BASE + '/api/tracks/' + encodeURIComponent(id) + '/download');
                if (!res.ok) {
                    const txt = await res.text();
                    alert('Failed to get download URL: ' + txt);
                    return;
                }
                const { url } = await res.json();
                window.open(url, '_blank');
            } catch (err) {
                console.error(err);
                alert('Download failed: ' + err.message);
            }
        }

        async function handleDelete(e) {
            const tr = e.target.closest('tr');
            const id = tr.getAttribute('data-id');
            if (!confirm('Delete this track? This cannot be undone.')) return;
            try {
                const res = await fetch(API_BASE + '/api/admin/tracks/' + encodeURIComponent(id), {
                    method: 'DELETE',
                    headers: { ...getAuthHeaders() }
                });
                if (!res.ok) {
                    const txt = await res.text();
                    alert('Delete failed: ' + txt);
                    return;
                }
                await loadTracks();
            } catch (err) {
                console.error(err);
                alert('Delete error: ' + err.message);
            }
        }

        async function handleEdit(e) {
            const tr = e.target.closest('tr');
            const id = tr.getAttribute('data-id');
            // Very small inline edit prompt for quick changes
            const newTitle = prompt('New title (leave blank to keep):', tr.querySelector('td > strong').textContent);
            if (newTitle === null) return; // cancelled
            try {
                const res = await fetch(API_BASE + '/api/admin/tracks/' + encodeURIComponent(id), {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },
                    body: JSON.stringify({ title: newTitle })
                });
                if (!res.ok) {
                    const txt = await res.text();
                    alert('Update failed: ' + txt);
                    return;
                }
                await loadTracks();
            } catch (err) {
                console.error(err);
                alert('Update error: ' + err.message);
            }
        }

        async function handlePublishToggle(e) {
            const tr = e.target.closest('tr');
            const id = tr.getAttribute('data-id');
            const publish = e.target.checked;
            try {
                const res = await fetch(API_BASE + '/api/admin/tracks/' + encodeURIComponent(id), {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json', ...getAuthHeaders() },
                    body: JSON.stringify({ published: publish })
                });
                if (!res.ok) {
                    const txt = await res.text();
                    alert('Publish toggle failed: ' + txt);
                    await loadTracks();
                }
            } catch (err) {
                console.error(err);
                alert('Publish error: ' + err.message);
                await loadTracks();
            }
        }

        // Refresh button for admin
        document.getElementById('refresh-list').addEventListener('click', loadTracks);

        // Render Songs for main site
        function renderSongs(filter = 'all') {
            songList.innerHTML = '';
            
            const filteredSongs = filter === 'all' 
                ? songs 
                : songs.filter(song => song.genre === filter);
            
            filteredSongs.forEach((song, index) => {
                const songItem = document.createElement('div');
                songItem.className = 'song-item';
                songItem.innerHTML = `
                    <h3 class="song-title">${song.title}</h3>
                    <span class="song-genre">${song.genre.charAt(0).toUpperCase() + song.genre.slice(1)}</span>
                    <div class="song-stats">
                        <span><i class="fas fa-play"></i> ${song.plays.toLocaleString()}</span>
                        <span><i class="fas fa-download"></i> ${song.downloads.toLocaleString()}</span>
                        <span><i class="fas fa-clock"></i> ${song.duration}</span>
                    </div>
                    <div class="song-controls">
                        <button class="control-btn play-btn" data-id="${song.id}" data-index="${index}">
                            <i class="fas fa-play"></i> Play
                        </button>
                        <button class="control-btn download-btn" data-id="${song.id}">
                            <i class="fas fa-download"></i> Download
                        </button>
                    </div>
                `;
                songList.appendChild(songItem);
            });
            
            // Add event listeners to play and download buttons
            document.querySelectorAll('.play-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const songIndex = parseInt(btn.getAttribute('data-index'));
                    playSong(songIndex);
                });
            });
            
            document.querySelectorAll('.download-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const songId = btn.getAttribute('data-id');
                    downloadSong(songId);
                });
            });
        }

        // Filter Songs for main site
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove active class from all buttons
                filterBtns.forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                btn.classList.add('active');
                // Filter songs
                const filter = btn.getAttribute('data-filter');
                renderSongs(filter);
            });
        });

        // Play Song for main site
        function playSong(index) {
            const song = songs[index];
            currentSongIndex = index;
            
            // Update player UI
            playerTitle.textContent = song.title;
            playerArtist.textContent = 'Anoka';
            musicPlayer.classList.add('player-active');
            
            // Set audio source
            audio.src = song.audioUrl;
            
            // Play audio
            audio.play();
            isPlaying = true;
            updatePlayButton();
            
            // Update duration
            audio.addEventListener('loadedmetadata', () => {
                durationEl.textContent = formatTime(audio.duration);
            });
        }

        // Update play button icon for main site
        function updatePlayButton() {
            const icon = playBtn.querySelector('i');
            if (isPlaying) {
                icon.className = 'fas fa-pause';
                playBtn.setAttribute('aria-label', 'Pause');
            } else {
                icon.className = 'fas fa-play';
                playBtn.setAttribute('aria-label', 'Play');
            }
        }

        // Format time (seconds to MM:SS) for main site
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // Update progress bar for main site
        audio.addEventListener('timeupdate', () => {
            const currentTime = audio.currentTime;
            const duration = audio.duration;
            
            // Update progress bar width
            if (duration) {
                const progressPercent = (currentTime / duration) * 100;
                progress.style.width = `${progressPercent}%`;
            }
            
            // Update time display
            currentTimeEl.textContent = formatTime(currentTime);
        });

        // Seek functionality for main site
        progressBar.addEventListener('click', (e) => {
            const rect = progressBar.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            audio.currentTime = percent * audio.duration;
        });

        // Play/Pause button for main site
        playBtn.addEventListener('click', () => {
            if (isPlaying) {
                audio.pause();
            } else {
                audio.play();
            }
            isPlaying = !isPlaying;
            updatePlayButton();
        });

        // Previous button for main site
        prevBtn.addEventListener('click', () => {
            currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            playSong(currentSongIndex);
        });

        // Next button for main site
        nextBtn.addEventListener('click', () => {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            playSong(currentSongIndex);
        });

        // Song ended
        audio.addEventListener('ended', () => {
            // Auto-play next song
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            playSong(currentSongIndex);
        });

        // Download Song for main site
        function downloadSong(id) {
            const song = songs.find(s => s.id == id);
            alert(`Downloading: ${song.title}`);
            // In a real implementation, this would initiate a download
        }

        // Contact Form Submission for main site
        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value;
            alert(`Thank you ${name}! Your message has been sent.`);
            contactForm.reset();
        });

        // Newsletter Form Submission for main site
        newsletterForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = newsletterForm.querySelector('input[type="email"]').value;
            alert(`Thank you for subscribing with ${email}! You'll receive updates soon.`);
            newsletterForm.reset();
        });

        // Theme Toggle for main site
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('light-theme');
            const icon = themeToggle.querySelector('i');
            if (document.body.classList.contains('light-theme')) {
                icon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'light');
            } else {
                icon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'dark');
            }
        });

        // Check for saved theme preference for main site
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            document.body.classList.add('light-theme');
            themeToggle.querySelector('i').className = 'fas fa-sun';
        }

        // Video Play Functionality for main site
        videoPlayButtons.forEach((button, index) => {
            button.addEventListener('click', () => {
                const video = videos[index];
                videoIframe.src = video.videoUrl;
                videoModal.style.display = 'flex';
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            });
        });

        // Close Video Modal for main site
        closeVideoModal.addEventListener('click', () => {
            videoModal.style.display = 'none';
            videoIframe.src = ''; // Stop video playback
            document.body.style.overflow = 'auto'; // Re-enable scrolling
        });

        // Close modal when clicking outside for main site
        videoModal.addEventListener('click', (e) => {
            if (e.target === videoModal) {
                videoModal.style.display = 'none';
                videoIframe.src = ''; // Stop video playback
                document.body.style.overflow = 'auto'; // Re-enable scrolling
            }
        });

        // Smooth Scrolling for main site
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Utilities
        function escapeHtml(s) {
            if (!s) return '';
            return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
        }

        // Initialize
        renderSongs();
    </script>
</body>
</html>